{"version":3,"sources":["webpack:///./src/views/MainSettings.vue","webpack:///./src/components/MainSettingsForm.vue","webpack:///./src/components/ExpansionPanels/PasswordField.vue","webpack:///src/components/ExpansionPanels/PasswordField.vue","webpack:///./src/components/ExpansionPanels/PasswordField.vue?7200","webpack:///./src/components/ExpansionPanels/PasswordField.vue?ba7a","webpack:///src/components/MainSettingsForm.vue","webpack:///./src/components/MainSettingsForm.vue?f04d","webpack:///./src/components/MainSettingsForm.vue?0fd2","webpack:///src/views/MainSettings.vue","webpack:///./src/views/MainSettings.vue?3f91","webpack:///./src/views/MainSettings.vue?f0f2"],"names":["render","_vm","this","_c","_self","loading","checkingToken","_e","attrs","localesList","probonusInfo","account_groups","botUsername","probonus_application_settings","requireSex","tokenIsValid","snackbarMessage","on","save","checkToken","$event","model","value","localConfig","callback","$$v","expression","staticRenderFns","formIsValid","listenAll","concat","scopedSlots","key","fn","_v","$set","bot_settings","$emit","$t","allow_reviews","proxy","manage_chat","staticClass","register_user","probonusSexRequired","accountGroupsWithTemplate","probonus_settings","undefined","index","group_id","utm","logs","showPassword","disabled","rules","hint","$listeners","components","ToolTip","data","computed","get","set","v","props","component","ExpansionPanels","Panel","TextField","SwitchField","SelectField","PasswordField","emits","openedPanels","text","server_settings","host","accountGroupsList","filter","elem","haveTemplate","accountGroupsWithTemplateIds","map","id","Fragment","LoadingOverlay","MainSettingsForm","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$$store$getters$","needRestart","wrap","_context","prev","next","$store","getters","config","port","token","debug_settings","threadpool_size","bot_threadpool_size","dispatch","locale_metadata","Language","language","sent","username","t0","setTimeout","stop","_this2","_callee2","botInfo","_context2","mounted","_this3","_callee3","_context3","document","title","JSON","parse","stringify","abrupt","need_sex"],"mappings":"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","file":"js/chunk-2d21abe6.df6ad9e0.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('fragment',[(_vm.loading || _vm.checkingToken)?_c('LoadingOverlay'):_vm._e(),_c('MainSettingsForm',{attrs:{\"loading\":_vm.loading,\"checkingToken\":_vm.checkingToken,\"localesList\":_vm.localesList,\"accountGroupsList\":_vm.probonusInfo.account_groups,\"botUsername\":_vm.botUsername,\"probonusSexRequired\":_vm.probonusInfo.probonus_application_settings.requireSex,\"tokenIsValid\":_vm.tokenIsValid,\"snackbarMessage\":_vm.snackbarMessage},on:{\"onSave\":_vm.save,\"onTokenCheck\":_vm.checkToken,\"onTokenChange\":function($event){_vm.tokenIsValid = false}},model:{value:(_vm.localConfig),callback:function ($$v) {_vm.localConfig=$$v},expression:\"localConfig\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',[_c('v-card-title',[_c('T',[_vm._v(\"Настройки / Основные\")])],1),(_vm.loading)?_c('v-skeleton-loader',{attrs:{\"type\":\"list-item-three-line\"}}):_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.$emit('onSave')}},model:{value:(_vm.formIsValid),callback:function ($$v) {_vm.formIsValid=$$v},expression:\"formIsValid\"}},[_c('v-card-text',[_c('ExpansionPanels',{model:{value:(_vm.openedPanels),callback:function ($$v) {_vm.openedPanels=$$v},expression:\"openedPanels\"}},[_c('Panel',{attrs:{\"header\":_vm.$t('Настройки локального сервера ProBonus Bot')}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Слушать все адреса. Не изменять параметр без понимания его смысла'),\"hint\":_vm.$t('Подключение к серверу возможно по любому адресу')},model:{value:(_vm.listenAll),callback:function ($$v) {_vm.listenAll=$$v},expression:\"listenAll\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Прослушиваемый адрес'),\"hint\":_vm.$t('Адрес, по которому доступно подключение к серверу'),\"disabled\":_vm.listenAll,\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => !!value.match('^((25[0-5]|(2[0-4]|1\\\\d|[1-9]|)\\\\d)\\\\.?\\\\b){4}$') || _vm.$t('Адрес не валиден')\n                ]},model:{value:(_vm.model.server_settings.host),callback:function ($$v) {_vm.$set(_vm.model.server_settings, \"host\", $$v)},expression:\"model.server_settings.host\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Порт на котором работает сервер ProBonus Bot'),\"hint\":_vm.$t('Порт, по которому доступно подключение к серверу'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => {value = parseInt(value); return value >= 0 && value <= 65535 || _vm.$t('Доступны значения от 0 до 65535');}\n                ]},model:{value:(_vm.model.server_settings.port),callback:function ($$v) {_vm.$set(_vm.model.server_settings, \"port\", $$v)},expression:\"model.server_settings.port\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('SelectField',{attrs:{\"label\":_vm.$t('Язык'),\"hint\":_vm.$t('Язык локализации программы'),\"items\":_vm.localesList,\"rules\":[value => !!value || _vm.$t('Это поле обязательно')]},model:{value:(_vm.model.server_settings.language),callback:function ($$v) {_vm.$set(_vm.model.server_settings, \"language\", $$v)},expression:\"model.server_settings.language\"}})],1)],1),_c('Panel',{attrs:{\"header\":_vm.$t('Настройки бота')}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('TextField',{attrs:{\"hint\":`${_vm.$t('Токен бота, выданный при его создании в')} @BotFather`,\"rules\":_vm.tokenIsValid ? [] : [\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => value === _vm.$store.getters.config.bot_settings.token || _vm.$t('Токен не проверен')\n                ]},on:{\"input\":function($event){return _vm.$emit('onTokenChange')}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('T',[_vm._v(\"Токен, выданный\")]),_c('a',{attrs:{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://t.me/BotFather\"}},[_vm._v(\"@BotFather\")])]},proxy:true}]),model:{value:(_vm.model.bot_settings.token),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"token\", $$v)},expression:\"model.bot_settings.token\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.model.bot_settings.token,\"loading\":_vm.checkingToken},on:{\"click\":function($event){return _vm.$emit('onTokenCheck')}}},[_c('T',[_vm._v(\"Проверить токен\")])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Сообщений из рассылок в секунду'),\"hint\":_vm.$t('Кол-во сообщений из рассылок, которое бот может отправлять в секунду'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => (parseInt(value) <= 20 && parseInt(value) >= 5) || _vm.$t('Кол-во запросов должно быть от 5 до 20'),\n\n                ]},model:{value:(_vm.model.bot_settings.mails_per_sec),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"mails_per_sec\", $$v)},expression:\"model.bot_settings.mails_per_sec\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Разрешить гостям оставлять отзывы в боте'),\"hint\":_vm.$t('При использовании этой опции гость сможет написать отзыв о работе заведения, который будет передан на рассмотрение администрации')},model:{value:(_vm.model.bot_settings.allow_reviews),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"allow_reviews\", $$v)},expression:\"model.bot_settings.allow_reviews\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"7\"}},[_c('TextField',{attrs:{\"hint\":_vm.$t('Идентификатор чата, в который будут отправляться отзывы гостей'),\"disabled\":!_vm.model.bot_settings.allow_reviews,\"rules\":_vm.model.bot_settings.allow_reviews ? [value => !!value || _vm.$t('Это поле обязательно')] : []},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('T',[_vm._v(\"Идентификатор чата для отзывов. Дефис перед цифрами важен\")])]},proxy:true}]),model:{value:(_vm.model.bot_settings.manage_chat),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"manage_chat\", $$v)},expression:\"model.bot_settings.manage_chat\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Разрешить регистрацию новых счетов через бота'),\"hint\":_vm.$t('Можно ли регистрировать новые счета ProBonus через бота')},model:{value:(_vm.model.bot_settings.register_user),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"register_user\", $$v)},expression:\"model.bot_settings.register_user\"}})],1),_c('v-col',{staticClass:\"pl-7\",attrs:{\"cols\":\"12\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Запрашивать возраст при регистрации'),\"hint\":_vm.$t('Нужно ли запрашивать возраст при регистрации нового счета ProBonus через бота'),\"disabled\":!_vm.model.bot_settings.register_user},model:{value:(_vm.model.bot_settings.need_birthday),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"need_birthday\", $$v)},expression:\"model.bot_settings.need_birthday\"}})],1),_c('v-col',{staticClass:\"pl-7\",attrs:{\"cols\":\"12\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Запрашивать пол при регистрации'),\"hint\":_vm.$t('Нужно ли запрашивать пол при регистрации нового счета ProBonus через бота'),\"secondHint\":_vm.probonusSexRequired ? _vm.$t('Опция обязательна в ProBonus. Для отключения измените настройки в ProBonus') : undefined,\"disabled\":!_vm.model.bot_settings.register_user || _vm.probonusSexRequired},model:{value:(_vm.model.bot_settings.need_sex),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"need_sex\", $$v)},expression:\"model.bot_settings.need_sex\"}})],1),_c('v-col',{staticClass:\"pl-7\",attrs:{\"cols\":\"12\"}},[_c('SwitchField',{attrs:{\"label\":_vm.$t('Разрешить использовать имя и фамилию из Telegram'),\"hint\":_vm.$t('Можно ли предоставить гостю при регистрации выбор между вводом имени и именем из Telegram'),\"disabled\":!_vm.model.bot_settings.register_user},model:{value:(_vm.model.bot_settings.allow_telegram_name),callback:function ($$v) {_vm.$set(_vm.model.bot_settings, \"allow_telegram_name\", $$v)},expression:\"model.bot_settings.allow_telegram_name\"}})],1)],1),_c('Panel',{attrs:{\"header\":_vm.$t('Настройки подключения к ProBonus')}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Логин'),\"hint\":_vm.$t('Логин для подключения к серверу ProBonus'),\"rules\":[value => !!value || _vm.$t('Это поле обязательно')]},model:{value:(_vm.model.probonus_settings.login),callback:function ($$v) {_vm.$set(_vm.model.probonus_settings, \"login\", $$v)},expression:\"model.probonus_settings.login\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('PasswordField',{attrs:{\"label\":_vm.$t('Пароль'),\"hint\":_vm.$t('Пароль для подключения к серверу ProBonus'),\"rules\":[value => !!value || _vm.$t('Это поле обязательно')]},model:{value:(_vm.model.probonus_settings.password),callback:function ($$v) {_vm.$set(_vm.model.probonus_settings, \"password\", $$v)},expression:\"model.probonus_settings.password\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Адрес сервера'),\"hint\":_vm.$t('Адрес, на котором стоит сервер ProBonus'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => !!value.match('^(?:(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(\\\\.(?!$)|$)){4}$') ||\n                    !!value.match('^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$') ||\n                    _vm.$t('Адрес не валиден')\n                ]},model:{value:(_vm.model.probonus_settings.host),callback:function ($$v) {_vm.$set(_vm.model.probonus_settings, \"host\", $$v)},expression:\"model.probonus_settings.host\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Порт сервера'),\"hint\":_vm.$t('Порт, который слушает сервер ProBonus'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => {value = parseInt(value); return value >= 0 && value <= 65535 || _vm.$t('Доступны значения от 0 до 65535');}\n                ]},model:{value:(_vm.model.probonus_settings.port),callback:function ($$v) {_vm.$set(_vm.model.probonus_settings, \"port\", $$v)},expression:\"model.probonus_settings.port\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('SelectField',{attrs:{\"label\":_vm.$t('Стандартная группа счетов для регистрации гостей'),\"hint\":_vm.$t('Стандартная группа счетов для самостоятельно зарегистрировавшихся из бота гостей'),\"items\":_vm.accountGroupsWithTemplate,\"itemValue\":\"id\",\"itemText\":\"name\",\"noDataText\":_vm.$t('В ProBonus нет подходящих групп с шаблоном'),\"rules\":[value => !!value && _vm.accountGroupsWithTemplateIds.includes(value) || _vm.$t('Это поле обязательно')]},model:{value:(_vm.model.probonus_settings.group_id),callback:function ($$v) {_vm.$set(_vm.model.probonus_settings, \"group_id\", $$v)},expression:\"model.probonus_settings.group_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"disabled\":true,\"copy\":true,\"value\":_vm.botUsername ? `https://t.me/${_vm.botUsername}/` : _vm.$t('Здесь будет ссылка на бота в Telegram')}})],1),_c('v-card',{staticClass:\"col-12\",attrs:{\"outlined\":\"\"}},[_c('v-card-title',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('T',[_vm._v(\"Добавить UTM-Метку\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.model.probonus_settings.utm_settings.push({utm: undefined, group_id: undefined})}}},[_c('v-icon',{attrs:{\"size\":\"44\",\"color\":\"green\"}},[_vm._v(\"mdi-plus-circle\")])],1)],1)],1),_c('v-card-text',_vm._l((_vm.model.probonus_settings.utm_settings),function(utm,index){return _c('v-row',{key:index},[_c('v-col',{staticClass:\"pa-1\",attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('UTM-Метка'),\"hint\":_vm.$t('UTM-Метка'),\"rules\":[\n                          value => !!value || _vm.$t('Это поле обязательно'),\n                          value => !value.includes(' ') || _vm.$t('UTM-Метка не должна содержать пробелов')\n                      ]},model:{value:(utm.utm),callback:function ($$v) {_vm.$set(utm, \"utm\", $$v)},expression:\"utm.utm\"}})],1),_c('v-col',{staticClass:\"pa-1\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('SelectField',{attrs:{\"label\":_vm.$t('Группа счетов'),\"hint\":_vm.$t(\n                          'Группа, в которой будет создан счет для пользователя зашедшего в бота по данной ссылке'\n                      ),\"items\":_vm.accountGroupsWithTemplate,\"itemValue\":\"id\",\"itemText\":\"name\",\"noDataText\":_vm.$t('В ProBonus нет подходящих групп с шаблоном'),\"rules\":[value => !!value && _vm.accountGroupsWithTemplateIds.includes(value) || _vm.$t('Это поле обязательно')]},model:{value:(utm.group_id),callback:function ($$v) {_vm.$set(utm, \"group_id\", $$v)},expression:\"utm.group_id\"}})],1),_c('v-col',{staticClass:\"pa-1\",attrs:{\"cols\":\"11\",\"md\":\"4\"}},[_c('TextField',{attrs:{\"disabled\":true,\"copy\":true,\"value\":_vm.botUsername ? `https://t.me/${_vm.botUsername}?start=${utm.utm}` : _vm.$t('Здесь будет ссылка на бота в Telegram')}})],1),_c('v-col',{staticClass:\"pa-1\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"size\":\"26\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.model.probonus_settings.utm_settings.splice(index, 1)}}},[_vm._v(\" mdi-trash-can \")])],1)],1)],1)}),1)],1)],1),_c('Panel',{attrs:{\"header\":_vm.$t('Отладочные настройки')}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('SelectField',{attrs:{\"label\":_vm.$t('Уровень логирования'),\"hint\":_vm.$t('Уровень логирования. Чем больше цифра, тем подробнее лог'),\"items\":_vm.logs,\"rules\":[value => !!value || parseInt(value) === 0 || _vm.$t('Это поле обязательно')]},model:{value:(_vm.model.debug_settings.level),callback:function ($$v) {_vm.$set(_vm.model.debug_settings, \"level\", $$v)},expression:\"model.debug_settings.level\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Срок хранения логов'),\"hint\":_vm.$t('Срок хранения .log файлов (дней)'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => parseInt(value) >= 1 || _vm.$t('Срок хранения должен быть от 1-го дня')\n                ]},model:{value:(_vm.model.debug_settings.retention_days),callback:function ($$v) {_vm.$set(_vm.model.debug_settings, \"retention_days\", $$v)},expression:\"model.debug_settings.retention_days\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Размер тредпула сервера'),\"hint\":_vm.$t('Максимальное количество открываемых потоков для обработки входящих запросов сервером'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => !!parseInt(value) || _vm.$t('Значение должно быть числом')\n                ]},model:{value:(_vm.model.debug_settings.threadpool_size),callback:function ($$v) {_vm.$set(_vm.model.debug_settings, \"threadpool_size\", $$v)},expression:\"model.debug_settings.threadpool_size\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('TextField',{attrs:{\"label\":_vm.$t('Размер тредпула бота'),\"hint\":_vm.$t('Максимальное количество открываемых потоков для обработки входящих запросов ботом'),\"rules\":[\n                    value => !!value || _vm.$t('Это поле обязательно'),\n                    value => !!parseInt(value) || _vm.$t('Значение должно быть числом')\n                ]},model:{value:(_vm.model.debug_settings.bot_threadpool_size),callback:function ($$v) {_vm.$set(_vm.model.debug_settings, \"bot_threadpool_size\", $$v)},expression:\"model.debug_settings.bot_threadpool_size\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"primary\",\"disabled\":!_vm.formIsValid}},[_c('T',[_vm._v(\"Сохранить\")])],1)],1)],1),_c('v-snackbar',{attrs:{\"value\":_vm.snackbarMessage,\"dark\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-alert-circle-outline\")]),_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \")],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-text-field',_vm._g({attrs:{\"dense\":\"\",\"outlined\":\"\",\"filled\":\"\",\"type\":_vm.showPassword ? '' : 'password',\"append-icon\":_vm.showPassword ? 'mdi-eye-off' : 'mdi-eye',\"label\":_vm.label,\"disabled\":_vm.disabled,\"readonly\":_vm.readonly,\"rules\":_vm.rules},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('ToolTip',{attrs:{\"hint\":_vm.hint}})]},proxy:true},{key:\"label\",fn:function(){return [_vm._t(\"label\")]},proxy:true}],null,true),model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},_vm.$listeners))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-text-field\r\n      dense outlined filled\r\n      :type=\"showPassword ? '' : 'password'\"\r\n      :append-icon=\"showPassword ? 'mdi-eye-off' : 'mdi-eye'\"\r\n      @click:append=\"showPassword = !showPassword\"\r\n      :label=\"label\" :disabled=\"disabled\" :readonly=\"readonly\"\r\n      :rules=\"rules\" v-model=\"model\" v-on=\"$listeners\"\r\n  >\r\n    <template v-slot:prepend>\r\n      <ToolTip :hint=\"hint\"/>\r\n    </template>\r\n\r\n    <template v-slot:label>\r\n      <slot name=\"label\"/>\r\n    </template>\r\n  </v-text-field>\r\n</template>\r\n\r\n<script>\r\nimport {ToolTip} from \"carbis-ui-library\";\r\n\r\nexport default {\r\n  components: {\r\n    ToolTip\r\n  },\r\n\r\n  data: () => ({\r\n    showPassword: false\r\n  }),\r\n\r\n  computed: {\r\n    model: {\r\n      get() {\r\n        return this.value\r\n      },\r\n      set(v) {\r\n        this.$emit('input', v)\r\n      }\r\n    }\r\n  },\r\n\r\n  props: [\"value\", \"label\", \"hint\", \"disabled\", \"readonly\", \"rules\"]\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordField.vue?vue&type=template&id=544b94c4&\"\nimport script from \"./PasswordField.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <T>Настройки / Основные</T>\r\n    </v-card-title>\r\n\r\n    <v-skeleton-loader v-if=\"loading\" type=\"list-item-three-line\"/>\r\n\r\n    <v-form v-else v-model=\"formIsValid\" @submit.prevent=\"$emit('onSave')\">\r\n      <v-card-text>\r\n        <ExpansionPanels v-model=\"openedPanels\">\r\n          <Panel :header=\"$t('Настройки локального сервера ProBonus Bot')\">\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <SwitchField\r\n                  :label=\"$t('Слушать все адреса. Не изменять параметр без понимания его смысла')\"\r\n                  :hint=\"$t('Подключение к серверу возможно по любому адресу')\"\r\n                  v-model=\"listenAll\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Прослушиваемый адрес')\" :hint=\"$t('Адрес, по которому доступно подключение к серверу')\"\r\n                  :disabled=\"listenAll\" v-model=\"model.server_settings.host\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => !!value.match('^((25[0-5]|(2[0-4]|1\\\\d|[1-9]|)\\\\d)\\\\.?\\\\b){4}$') || $t('Адрес не валиден')\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Порт на котором работает сервер ProBonus Bot')\"\r\n                  :hint=\"$t('Порт, по которому доступно подключение к серверу')\"\r\n                  v-model=\"model.server_settings.port\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => {value = parseInt(value); return value >= 0 && value <= 65535 || $t('Доступны значения от 0 до 65535');}\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <SelectField\r\n                  :label=\"$t('Язык')\" :hint=\"$t('Язык локализации программы')\"\r\n                  v-model=\"model.server_settings.language\" :items=\"localesList\"\r\n                  :rules=\"[value => !!value || $t('Это поле обязательно')]\"\r\n              />\r\n            </v-col>\r\n          </Panel>\r\n\r\n          <Panel :header=\"$t('Настройки бота')\">\r\n            <v-col cols=\"12\" md=\"8\">\r\n              <TextField\r\n                  :hint=\"`${$t('Токен бота, выданный при его создании в')} @BotFather`\"\r\n                  v-model=\"model.bot_settings.token\"\r\n                  :rules=\"tokenIsValid ? [] : [\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => value === $store.getters.config.bot_settings.token || $t('Токен не проверен')\r\n                  ]\"\r\n                  @input=\"$emit('onTokenChange')\"\r\n              >\r\n                <template v-slot:label>\r\n                  <T>Токен, выданный</T>\r\n                  <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://t.me/BotFather\">@BotFather</a>\r\n                </template>\r\n              </TextField>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-btn\r\n                  color=\"primary\" :disabled=\"!model.bot_settings.token\"\r\n                  :loading=\"checkingToken\" @click=\"$emit('onTokenCheck')\"\r\n              >\r\n                <T>Проверить токен</T>\r\n              </v-btn>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\">\r\n              <TextField\r\n                  :label=\"$t('Сообщений из рассылок в секунду')\"\r\n                  :hint=\"$t('Кол-во сообщений из рассылок, которое бот может отправлять в секунду')\"\r\n                  v-model=\"model.bot_settings.mails_per_sec\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => (parseInt(value) <= 20 && parseInt(value) >= 5) || $t('Кол-во запросов должно быть от 5 до 20'),\r\n\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"5\">\r\n              <SwitchField\r\n                  :label=\"$t('Разрешить гостям оставлять отзывы в боте')\"\r\n                  :hint=\"$t('При использовании этой опции гость сможет написать отзыв о работе заведения, который будет передан на рассмотрение администрации')\"\r\n                  v-model=\"model.bot_settings.allow_reviews\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"7\">\r\n              <TextField\r\n                  :hint=\"$t('Идентификатор чата, в который будут отправляться отзывы гостей')\"\r\n                  :disabled=\"!model.bot_settings.allow_reviews\"\r\n                  v-model=\"model.bot_settings.manage_chat\"\r\n                  :rules=\"model.bot_settings.allow_reviews ? [value => !!value || $t('Это поле обязательно')] : []\"\r\n              >\r\n                <template v-slot:label>\r\n                  <T>Идентификатор чата для отзывов. Дефис перед цифрами важен</T>\r\n                </template>\r\n              </TextField>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\">\r\n              <SwitchField\r\n                  :label=\"$t('Разрешить регистрацию новых счетов через бота')\"\r\n                  :hint=\"$t('Можно ли регистрировать новые счета ProBonus через бота')\"\r\n                  v-model=\"model.bot_settings.register_user\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" class=\"pl-7\">\r\n              <SwitchField\r\n                  :label=\"$t('Запрашивать возраст при регистрации')\"\r\n                  :hint=\"$t('Нужно ли запрашивать возраст при регистрации нового счета ProBonus через бота')\"\r\n                  :disabled=\"!model.bot_settings.register_user\" v-model=\"model.bot_settings.need_birthday\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" class=\"pl-7\">\r\n              <SwitchField\r\n                  :label=\"$t('Запрашивать пол при регистрации')\"\r\n                  :hint=\"$t('Нужно ли запрашивать пол при регистрации нового счета ProBonus через бота')\"\r\n                  :secondHint=\"probonusSexRequired ? $t('Опция обязательна в ProBonus. Для отключения измените настройки в ProBonus') : undefined\"\r\n                  :disabled=\"!model.bot_settings.register_user || probonusSexRequired\"\r\n                  v-model=\"model.bot_settings.need_sex\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" class=\"pl-7\">\r\n              <SwitchField\r\n                  :label=\"$t('Разрешить использовать имя и фамилию из Telegram')\"\r\n                  :hint=\"$t('Можно ли предоставить гостю при регистрации выбор между вводом имени и именем из Telegram')\"\r\n                  :disabled=\"!model.bot_settings.register_user\" v-model=\"model.bot_settings.allow_telegram_name\"\r\n              />\r\n            </v-col>\r\n          </Panel>\r\n\r\n          <Panel :header=\"$t('Настройки подключения к ProBonus')\">\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Логин')\" :hint=\"$t('Логин для подключения к серверу ProBonus')\"\r\n                  v-model=\"model.probonus_settings.login\"\r\n                  :rules=\"[value => !!value || $t('Это поле обязательно')]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <PasswordField\r\n                  :label=\"$t('Пароль')\" :hint=\"$t('Пароль для подключения к серверу ProBonus')\"\r\n                  v-model=\"model.probonus_settings.password\"\r\n                  :rules=\"[value => !!value || $t('Это поле обязательно')]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Адрес сервера')\" :hint=\"$t('Адрес, на котором стоит сервер ProBonus')\"\r\n                  v-model=\"model.probonus_settings.host\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => !!value.match('^(?:(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(\\\\.(?!$)|$)){4}$') ||\r\n                      !!value.match('^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$') ||\r\n                      $t('Адрес не валиден')\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Порт сервера')\" :hint=\"$t('Порт, который слушает сервер ProBonus')\"\r\n                  v-model=\"model.probonus_settings.port\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => {value = parseInt(value); return value >= 0 && value <= 65535 || $t('Доступны значения от 0 до 65535');}\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <SelectField\r\n                  :label=\"$t('Стандартная группа счетов для регистрации гостей')\"\r\n                  :hint=\"$t('Стандартная группа счетов для самостоятельно зарегистрировавшихся из бота гостей')\"\r\n                  :items=\"accountGroupsWithTemplate\"\r\n                  itemValue=\"id\" itemText=\"name\"\r\n                  :noDataText=\"$t('В ProBonus нет подходящих групп с шаблоном')\"\r\n                  v-model=\"model.probonus_settings.group_id\"\r\n                  :rules=\"[value => !!value && accountGroupsWithTemplateIds.includes(value) || $t('Это поле обязательно')]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :disabled=\"true\" :copy=\"true\"\r\n                  :value=\"botUsername ? `https://t.me/${botUsername}/` : $t('Здесь будет ссылка на бота в Telegram')\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-card outlined class=\"col-12\">\r\n              <v-card-title>\r\n                <v-col cols=\"12\">\r\n                  <T>Добавить UTM-Метку</T>\r\n                  <v-btn\r\n                      icon\r\n                      @click=\"model.probonus_settings.utm_settings.push({utm: undefined, group_id: undefined})\"\r\n                  >\r\n                    <v-icon size=\"44\" color=\"green\">mdi-plus-circle</v-icon>\r\n                  </v-btn>\r\n                </v-col>\r\n              </v-card-title>\r\n\r\n              <v-card-text>\r\n                <v-row v-for=\"(utm, index) in model.probonus_settings.utm_settings\" :key=\"index\">\r\n                  <v-col cols=\"12\" md=\"3\" class=\"pa-1\">\r\n                    <TextField\r\n                        :label=\"$t('UTM-Метка')\" :hint=\"$t('UTM-Метка')\"\r\n                        v-model=\"utm.utm\"\r\n                        :rules=\"[\r\n                            value => !!value || $t('Это поле обязательно'),\r\n                            value => !value.includes(' ') || $t('UTM-Метка не должна содержать пробелов')\r\n                        ]\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"4\" class=\"pa-1\">\r\n                    <SelectField\r\n                        :label=\"$t('Группа счетов')\"\r\n                        :hint=\"$t(\r\n                            'Группа, в которой будет создан счет для пользователя зашедшего в бота по данной ссылке'\r\n                        )\"\r\n                        :items=\"accountGroupsWithTemplate\"\r\n                        itemValue=\"id\" itemText=\"name\"\r\n                        :noDataText=\"$t('В ProBonus нет подходящих групп с шаблоном')\"\r\n                        v-model=\"utm.group_id\"\r\n                        :rules=\"[value => !!value && accountGroupsWithTemplateIds.includes(value) || $t('Это поле обязательно')]\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"11\" md=\"4\" class=\"pa-1\">\r\n                    <TextField\r\n                        :disabled=\"true\" :copy=\"true\"\r\n                        :value=\"botUsername ? `https://t.me/${botUsername}?start=${utm.utm}` : $t('Здесь будет ссылка на бота в Telegram')\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"1\" class=\"pa-1\">\r\n                    <v-btn icon>\r\n                      <v-icon\r\n                          size=\"26\" color=\"red\"\r\n                          @click=\"model.probonus_settings.utm_settings.splice(index, 1)\"\r\n                      >\r\n                        mdi-trash-can\r\n                      </v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </Panel>\r\n\r\n          <Panel :header=\"$t('Отладочные настройки')\">\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <SelectField\r\n                  :label=\"$t('Уровень логирования')\"\r\n                  :hint=\"$t('Уровень логирования. Чем больше цифра, тем подробнее лог')\"\r\n                  :items=\"logs\" v-model=\"model.debug_settings.level\"\r\n                  :rules=\"[value => !!value || parseInt(value) === 0 || $t('Это поле обязательно')]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Срок хранения логов')\" :hint=\"$t('Срок хранения .log файлов (дней)')\"\r\n                  v-model=\"model.debug_settings.retention_days\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => parseInt(value) >= 1 || $t('Срок хранения должен быть от 1-го дня')\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Размер тредпула сервера')\"\r\n                  :hint=\"$t('Максимальное количество открываемых потоков для обработки входящих запросов сервером')\"\r\n                  v-model=\"model.debug_settings.threadpool_size\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => !!parseInt(value) || $t('Значение должно быть числом')\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <TextField\r\n                  :label=\"$t('Размер тредпула бота')\"\r\n                  :hint=\"$t('Максимальное количество открываемых потоков для обработки входящих запросов ботом')\"\r\n                  v-model=\"model.debug_settings.bot_threadpool_size\"\r\n                  :rules=\"[\r\n                      value => !!value || $t('Это поле обязательно'),\r\n                      value => !!parseInt(value) || $t('Значение должно быть числом')\r\n                  ]\"\r\n              />\r\n            </v-col>\r\n          </Panel>\r\n        </ExpansionPanels>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-spacer/>\r\n        <v-btn type=\"submit\" color=\"primary\" :disabled=\"!formIsValid\">\r\n          <T>Сохранить</T>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-form>\r\n\r\n    <v-snackbar :value=\"snackbarMessage\" dark>\r\n      <v-icon>mdi-alert-circle-outline</v-icon>\r\n      {{ snackbarMessage }}\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport ExpansionPanels from \"@/components/ExpansionPanels\";\r\nimport Panel from \"@/components/ExpansionPanels/Panel.vue\";\r\nimport TextField from \"@/components/ExpansionPanels/TextField.vue\";\r\nimport SwitchField from \"@/components/ExpansionPanels/SwitchField.vue\";\r\nimport SelectField from \"@/components/ExpansionPanels/SelectField.vue\";\r\nimport PasswordField from \"@/components/ExpansionPanels/PasswordField.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ExpansionPanels, Panel, TextField, SwitchField, SelectField, PasswordField\r\n  },\r\n\r\n  props: [\r\n    \"loading\", \"value\", \"localesList\", \"accountGroupsList\", \"probonusSexRequired\",\r\n    \"tokenIsValid\", \"snackbarMessage\", \"checkingToken\", \"botUsername\"\r\n  ],\r\n\r\n  emits: [\"onSave\", \"onTokenCheck\", \"onTokenChange\", \"input\"],\r\n\r\n  data: () => ({\r\n    openedPanels: [0, 1, 2, 3],\r\n    formIsValid: undefined,\r\n    logs: [\r\n      {value: 0, text: \"CRITICAL - 0\"},\r\n      {value: 1, text: \"ERROR - 1\"},\r\n      {value: 2, text: \"WARNING - 2\"},\r\n      {value: 3, text: \"SUCCESS - 3\"},\r\n      {value: 5, text: \"INFO - 5\"},\r\n      {value: 8, text: \"DEBUG - 8\"},\r\n      {value: 10, text: \"TRACE - 10\"}\r\n    ]\r\n  }),\r\n\r\n  computed: {\r\n    model: {\r\n      get() {\r\n        return this.value;\r\n      },\r\n      set(v) {\r\n        this.$emit(\"input\", v);\r\n      }\r\n    },\r\n    listenAll: {\r\n      get() {\r\n        return this.model.server_settings.host === \"0.0.0.0\";\r\n      },\r\n      set(v) {\r\n        this.model.server_settings.host = v ? \"0.0.0.0\" : \"\";\r\n      }\r\n    },\r\n    accountGroupsWithTemplate() {\r\n      return this.accountGroupsList.filter(elem => elem.haveTemplate)\r\n    },\r\n    accountGroupsWithTemplateIds() {\r\n      return this.accountGroupsWithTemplate.map(elem => elem.id)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSettingsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSettingsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainSettingsForm.vue?vue&type=template&id=79c7ee40&\"\nimport script from \"./MainSettingsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MainSettingsForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <fragment>\r\n    <LoadingOverlay v-if=\"loading || checkingToken\"/>\r\n\r\n    <MainSettingsForm\r\n        v-model=\"localConfig\"\r\n        :loading=\"loading\" :checkingToken=\"checkingToken\" :localesList=\"localesList\"\r\n        :accountGroupsList=\"probonusInfo.account_groups\" :botUsername=\"botUsername\"\r\n        :probonusSexRequired=\"probonusInfo.probonus_application_settings.requireSex\"\r\n        :tokenIsValid=\"tokenIsValid\" :snackbarMessage=\"snackbarMessage\"\r\n        @onSave=\"save\" @onTokenCheck=\"checkToken\"\r\n        @onTokenChange=\"tokenIsValid = false\"\r\n    />\r\n  </fragment>\r\n</template>\r\n\r\n<script>\r\nimport {Fragment} from \"vue-fragment\";\r\nimport MainSettingsForm from \"@/components/MainSettingsForm.vue\";\r\nimport LoadingOverlay from \"@/components/Loading/LoadingOverlay.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Fragment, LoadingOverlay, MainSettingsForm\r\n  },\r\n\r\n  data: () => ({\r\n    loading: true,\r\n    checkingToken: false,\r\n    localConfig: {},\r\n    localesList: undefined,\r\n    botUsername: undefined,\r\n    probonusInfo: {\r\n      account_groups: undefined,\r\n      probonus_application_settings: {\r\n        requireSex: undefined\r\n      }\r\n    },\r\n    tokenIsValid: false,\r\n    snackbarMessage: undefined\r\n  }),\r\n\r\n  methods: {\r\n    async save() {\r\n      this.loading = true;\r\n      let needRestart = (\r\n          this.localConfig.server_settings.host != this.$store.getters.config.server_settings.host ||\r\n          this.localConfig.server_settings.port != this.$store.getters.config.server_settings.port ||\r\n          this.localConfig.bot_settings.token != this.$store.getters.config.bot_settings.token ||\r\n          this.localConfig.bot_settings.allow_reviews != this.$store.getters.config.bot_settings.allow_reviews ||\r\n          this.localConfig.debug_settings.threadpool_size != this.$store.getters.config.debug_settings.threadpool_size ||\r\n          this.localConfig.debug_settings.bot_threadpool_size != this.$store.getters.config.debug_settings.bot_threadpool_size\r\n      )\r\n      await this.$store.dispatch(\"putConfig\", this.localConfig);\r\n      if (this.$store.getters.locale_metadata.Language !== this.$store.getters.config.server_settings?.language) {\r\n        await this.$store.dispatch(\"getLocale\");\r\n      }\r\n      try {\r\n        this.botUsername = (\r\n            await this.$store.dispatch(\"getBotInfoByApiToken\", this.localConfig.bot_settings.token)\r\n        ).username;\r\n      } catch (e) {\r\n        this.botUsername = undefined;\r\n      }\r\n      if (needRestart) {\r\n        this.snackbarMessage = this.$t(\"Для применения всех настроек требуется перезапуск службы\");\r\n        setTimeout(() => this.snackbarMessage = undefined, 6000);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    async checkToken() {\r\n      this.checkingToken = true;\r\n      try {\r\n        let botInfo = await this.$store.dispatch(\"getBotInfoByApiToken\", this.localConfig.bot_settings.token);\r\n        if (botInfo) {\r\n          this.tokenIsValid = true;\r\n          this.snackbarMessage = this.$t(\"Проверка пройдена успешно\");\r\n        }\r\n      } catch (e) {\r\n        this.snackbarMessage = this.$t(\"Проверка не пройдена\");\r\n      }\r\n      this.checkingToken = false;\r\n      setTimeout(() => this.snackbarMessage = undefined, 4000);\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    document.title = this.$t(\"Настройки\");\r\n    await this.$store.dispatch(\"getConfig\");\r\n    this.localConfig = JSON.parse(JSON.stringify(this.$store.getters.config));\r\n    this.localesList = await this.$store.dispatch(\"getLocalesList\");\r\n    if (!this.localesList) {\r\n      return;  // FIXME костыль\r\n    }\r\n    this.probonusInfo = await this.$store.dispatch(\"getProbonusInfo\");\r\n    if (this.probonusInfo.probonus_application_settings.requireSex) {\r\n      this.localConfig.bot_settings.need_sex = true;\r\n    }\r\n    if (this.localConfig.bot_settings.token) {\r\n      try {\r\n        this.botUsername = (\r\n            await this.$store.dispatch(\"getBotInfoByApiToken\", this.localConfig.bot_settings.token)\r\n        ).username;\r\n      } catch (e) {\r\n        this.botUsername = undefined;  // FIXME\r\n      }\r\n    }\r\n    this.loading = false;\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainSettings.vue?vue&type=template&id=668aa334&\"\nimport script from \"./MainSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./MainSettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}